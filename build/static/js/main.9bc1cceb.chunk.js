(window.webpackJsonptemplate=window.webpackJsonptemplate||[]).push([[0],{102:function(e,t){},104:function(e,t){},122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),o=a.n(s),l=a(3),i=a(4),c=a(6),m=a(5),u=a(7),p=(a(72),a(12)),d=a(27),g=a(11),h=a(1);a(78);function b(){if(localStorage.getItem("token"))return r.a.createElement(d.a,{to:{pathname:"/",state:{notLogin:!0}}})}function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handlePropsToggleSidebar=function(e){a.props.myPropsToggle(e)},a.hiddenSidebar=function(){a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{toggle:!a.state.toggle}),(function(){a.handlePropsToggleSidebar(a.state.toggle)}))},a.toggleSidebar=function(){console.log("clicked toggle sidebar"),a.setState({toggle:!a.state.toggle},(function(){a.handlePropsToggleSidebar(a.state.toggle)}))},a.toggleCollapse=function(){a.setState({isOpen:!a.state.isOpen})},a.logout=function(){localStorage.clear(),window.location.href="http://103.14.21.56:49000/"},a.state={isOpen:void 0!==e.mobile&&e.mobile,toggle:e.show},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return b()?r.a.createElement(h.v,{color:"primary-color",dark:!0,expand:"md",style:this.state.toggle?{marginLeft:"0",position:"relative"}:{marginLeft:"270px",position:"relative"}},r.a.createElement(h.w,null,r.a.createElement("i",{className:"navbar-toggler-icon waves-effect waves-light",onClick:this.toggleSidebar,style:{cursor:"pointer"}})),r.a.createElement("span",{className:this.state.toggle?"mobile-burger-hidden":"mobile-burger-show",onClick:this.hiddenSidebar,style:{zIndex:"9999",position:"fixed"}},r.a.createElement("i",{className:"fa"},"\u2715")),r.a.createElement(h.y,{onClick:this.toggleSidebar}),r.a.createElement(h.g,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},r.a.createElement(h.x,{right:!0},r.a.createElement(h.u,{style:{marginRight:"1em"}},r.a.createElement(h.i,null,r.a.createElement(h.l,{nav:!0,caret:!0},r.a.createElement(h.m,{icon:"user"})," Administrator"),r.a.createElement(h.k,{className:"dropdown-default"},r.a.createElement(h.j,{href:"!#",onClick:this.logout},r.a.createElement(h.m,{icon:"sign-out-alt"})," Logout"))))))):r.a.createElement(d.a,{to:"/"})}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={business:a.props.businessProps,mobileToggle:!1},a.businessManagement=function(){a.setState({business:!a.state.business})},a.logout=function(){localStorage.clear(),window.location.href="http://103.14.21.56:49000/"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return b()?r.a.createElement("div",{className:this.props.myPropsToggle?"sidebar-fixed-inactive":"sidebar-fixed"},r.a.createElement("a",{href:"#!",className:"logo-wrapper waves-effect"},r.a.createElement("h2",null,"TRISAKTI DASHBOARD")),r.a.createElement(h.o,{className:"list-group-flush"},r.a.createElement(p.c,{to:"/home",activeClassName:"activeClass"},r.a.createElement(h.p,null,r.a.createElement(h.m,{icon:"user",className:"mr-4"})," User Management")),r.a.createElement(p.c,{to:"/promotion",activeClassName:"activeClass"},r.a.createElement(h.p,null,r.a.createElement(h.m,{icon:"ticket-alt",className:"",style:{marginRight:"20px"}}),"Promo Management")),r.a.createElement(h.p,{onClick:this.businessManagement.bind(this),style:{cursor:"pointer"}},r.a.createElement(h.m,{icon:"business-time",className:"mr-3"}),"Business Management",r.a.createElement(h.m,{icon:"chevron-right",style:!0===this.state.business?{float:"right",fontSize:"12px",marginTop:"8px",transition:"0.3s",transform:"rotate(90deg)"}:{float:"right",fontSize:"12px",marginTop:"8px",transition:"0.3s"}})),r.a.createElement(h.o,{className:"list-group-flush",style:!0===this.state.business?{display:"",transition:"0.3s"}:{display:"none",transition:"0.3s"}},r.a.createElement(p.c,{to:"/business/career-category",activeClassName:"activeClass",style:{borderTop:"1px solid #eee"}},r.a.createElement(h.p,null,r.a.createElement(h.m,{style:{marginLeft:"35px"},icon:"business-time",className:"mr-2"})," Career Category")),r.a.createElement(p.c,{to:"/business/job-vacancy",activeClassName:"activeClass"},r.a.createElement(h.p,null,r.a.createElement(h.m,{style:{marginLeft:"35px"},icon:"business-time",className:"mr-2"})," Job Vacancy")),r.a.createElement(p.c,{to:"/business/job-apply",activeClassName:"activeClass"},r.a.createElement(h.p,null,r.a.createElement(h.m,{style:{marginLeft:"35px"},icon:"business-time",className:"mr-2"})," Job Apply")))),r.a.createElement(h.o,{className:"mobile-logout",style:{position:"fixed",bottom:0,width:"270px"}},r.a.createElement(h.p,{onClick:this.logout},r.a.createElement(h.m,{icon:"sign-out-alt",className:"mr-1"})," Logout"))):r.a.createElement(d.a,{to:"/"})}}]),t}(n.Component),v=a(8),j=a.n(v),_=a(10),x=a(9),T=a.n(x),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={modal:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.h,null,r.a.createElement(h.q,{isOpen:this.props.modal},r.a.createElement(h.t,null,"MDBModal title"),r.a.createElement(h.r,null,"modal body"),r.a.createElement(h.s,null,r.a.createElement(h.b,{color:"secondary",onClick:this.toggle},"Close"),r.a.createElement(h.b,{color:"primary"},"Save changes"))))}}]),t}(n.Component),P=a(23),O=a.n(P),C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).verifiedUser=function(){var e=Object(_.a)(j.a.mark((function e(t,r,s,o,l,i,c,m,u,p,d,g){var h,b,f,E,y,v,_,x,N,P,O,C=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=C.length>12&&void 0!==C[12]&&C[12],b=C.length>13&&void 0!==C[13]&&C[13],f=C.length>14&&void 0!==C[14]&&C[14],E=C.length>15?C[15]:void 0,y=C.length>16?C[16]:void 0,v=C.length>17?C[17]:void 0,_=C.length>18?C[18]:void 0,x=C.length>19?C[19]:void 0,!window.confirm("Are you sure want to make this "+E+" verified?")){e.next=34;break}return N=a(13),P=new N.Agent({rejectUnauthorized:!1}),(O=new FormData).append("id_profile",t),O.append("url_photo",""),O.append("nik",s),O.append("name",o),O.append("gender",l),O.append("birth_location",i),O.append("birthdate",c),O.append("address",m),O.append("postal_code",u),O.append("faculty",p),O.append("department",d),O.append("generation",g),O.append("is_verified",h),O.append("is_forum",b),O.append("is_marketplace",f),O.append("username",E),O.append("id_country",y),O.append("id_province",v),O.append("id_district",_),O.append("id_village",x),e.next=34,T()({method:"PUT",url:"https://103.14.21.56:7443/api/v1/users/user-profile/"+t+"/",httpsAgent:P,headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"multipart/form-data"},data:O}).then((function(e){console.log(e),n.getData(n.state.activePage)})).catch((function(e){console.log(e.response)}));case 34:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,o,l,i,c,m,u,p){return e.apply(this,arguments)}}(),n.deleteUser=function(){var e=Object(_.a)(j.a.mark((function e(t,r){var s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure want to delete "+r+"?")){e.next=5;break}return s=a(13),o=new s.Agent({rejectUnauthorized:!1}),e.next=5,T()({method:"DELETE",url:"https://103.14.21.56:7443/api/v1/users/user/"+t+"/",httpsAgent:o,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),n.getData(n.state.activePage)})).catch((function(e){console.log(e.response)}));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handlePageChange=function(e){n.setState({activePage:e},(function(){n.getData(e)}))},n.state={activePage:1,totalUsers:1,curPage:1,data:[],modal:!1,loading:!1},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"suspendUser",value:function(){var e=Object(_.a)(j.a.mark((function e(t,n,r,s,o,l,i){var c,m,u=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure want to "+i+" "+n+"?")){e.next=5;break}return c=a(13),m=new c.Agent({rejectUnauthorized:!1}),e.next=5,T()({method:"PUT",url:"https://103.14.21.56:7443/api/v1/users/user/"+t+"/",httpsAgent:m,headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{is_active:r,username:n,password:s,confirm_password:s,email:o,telp:l}}).then((function(e){console.log(e),u.getData(u.state.activePage)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s,o,l){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var n,r,s,o=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=10*(t-1),r=a(13),s=new r.Agent({rejectUnauthorized:!1}),e.next=5,this.setState({loading:!0},(function(){T.a.get("https://103.14.21.56:7443/api/v1/users/user/?limit=10&offset="+n,{httpsAgent:s,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o.setState({loading:!1,data:e.data.results,totalUser:e.data.count})})).catch((function(e){o.setState({loading:!1}),console.log(e)}))}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData(1)}},{key:"render",value:function(){var e=this,t=10*(this.state.activePage-1)+1,a=this.state.totalUser,n=this.state.data.map((function(a){var n,s,o,l=a.profile[0];return a.is_active?(n=r.a.createElement(h.m,{icon:"check-circle",className:"green-text"}),s=r.a.createElement("button",{type:"button",className:"btn btn-sm btn-elegant",onClick:e.suspendUser.bind(e,a.id,a.username,!1,a.password,a.email,a.telp,"suspend"),style:{margin:"0",width:"max-content"}},r.a.createElement(h.m,{icon:"user-check"})," Suspend")):(n=r.a.createElement(h.m,{icon:"plus-circle",className:"red-text",style:{transform:"rotate(45deg)"}}),s=r.a.createElement("button",{type:"button",className:"btn btn-sm",onClick:e.suspendUser.bind(e,a.id,a.username,!0,a.password,a.email,a.telp,"unsuspend"),style:{margin:"0",width:"max-content"}},r.a.createElement(h.m,{icon:"user-slash"})," Unsuspend")),o=null!==l.name&&null!==l.gender&&null!==l.birth_location&&null!==l.birthdate&&null!==l.address&&null!==l.postal_code&&null!==l.faculty&&null!==l.department&&null!==l.generation&&null!==l.id_country&&null!==l.id_prvince&&null!==l.id_district&&null!==l.id_village&&0==l.is_verified?r.a.createElement("button",{type:"button",className:"btn btn-sm btn-success",onClick:e.verifiedUser.bind(e,l.id_profile,l.url_photo,l.nik,l.name,l.gender,l.birth_location,l.birthdate,l.address,l.postal_code,l.faculty,l.department,l.generation,!0,l.is_forum,l.is_marketplace,l.username,l.id_country,l.id_province,l.id_district,l.id_village),style:{margin:"0",width:"max-content"}},r.a.createElement(h.m,{icon:"user-check"})," Verified"):null!==l.name&&null!==l.gender&&null!==l.birth_location&&null!==l.birthdate&&null!==l.address&&null!==l.postal_code&&null!==l.faculty&&null!==l.department&&null!==l.generation&&null!==l.id_country&&null!==l.id_prvince&&null!==l.id_district&&null!==l.id_village&&1==l.is_verified?r.a.createElement(h.m,{icon:"check-circle",className:"green-text"}):r.a.createElement("button",{type:"button",className:"btn btn-sm",style:{margin:"0",width:"max-content"}},r.a.createElement(h.m,{icon:"user-slash"})," Verified"),r.a.createElement("tr",{key:a.id},r.a.createElement("td",{className:"text-center"},t++),r.a.createElement("td",{style:{minWidth:"120px"}},a.username),r.a.createElement("td",{style:{minWidth:"180px"}},l.name),r.a.createElement("td",null,a.email),r.a.createElement("td",{style:{minWidth:"200px"}},l.address),r.a.createElement("td",{className:"text-center"},l.gender),r.a.createElement("td",null,a.telp),r.a.createElement("td",{className:"text-center"},n),r.a.createElement("td",{className:"text-center"},o),r.a.createElement("td",{className:"text-center"},s),r.a.createElement("td",{className:"text-center"},r.a.createElement(p.b,{to:{pathname:"/home/edit-user/"+a.id,state:{myPropsToggle:e.props.myPropsToggle}}},r.a.createElement("button",{type:"button",className:"btn btn-purple btn-sm waves-effect waves-light",style:{margin:"0",width:"max-content"}},r.a.createElement(h.m,{icon:"edit"})," Edit"))),r.a.createElement("td",null,r.a.createElement(h.b,{type:"button",className:"btn-sm",color:"danger",onClick:e.deleteUser.bind(e,a.id,a.username),style:{margin:"0",width:"max-content"}},r.a.createElement(h.m,{icon:"trash"})," Delete")))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive",style:{width:"100%",overflowY:"auto"}},r.a.createElement(N,{modal:this.state.modal,modalClick:this.suspendUser}),r.a.createElement(p.b,{to:{pathname:"/home/add-user/",state:{myPropsToggle:this.props.myPropsToggle}}},r.a.createElement(h.b,{type:"button",color:"success"},r.a.createElement(h.m,{icon:"plus-circle"})," Add User")),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Gender"),r.a.createElement("th",null,"Telp"),r.a.createElement("th",null,"Active"),r.a.createElement("th",null,"Verified"),r.a.createElement("th",null,"Suspend"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.state.loading?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",className:"text-center"},r.a.createElement(C,null))):n))),r.a.createElement("nav",{style:{display:"flex",justifyContent:"center",marginTop:"2em"}},r.a.createElement(O.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:a,pageRangeDisplayed:5,onChange:this.handlePageChange,innerClass:"pagination pagination-circle pg-red",itemClass:"page-item",linkClass:"page-link waves-effect waves-effect",prevPageText:"\xab",nextPageText:"\xbb",firstPageText:"First",lastPageText:"Last"})))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggle=function(){a.setState({modal:!a.state.modal})},a.state={modal:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.f,{style:{padding:"0"}},r.a.createElement(h.c,{style:{width:"100%"}},r.a.createElement(h.d,{style:{minHeight:"calc(100vh - 90px)"}},r.a.createElement(w,{myPropsToggle:this.props.myPropsToggle})))),r.a.createElement(N,{isOpen:this.toggle.bind(this)}))}}]),t}(n.Component),S=(n.Component,function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).submitHandler=function(){var e=Object(_.a)(j.a.mark((function e(t){var r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=a(13),s=new r.Agent({rejectUnauthorized:!1}),n.setState({loading:!0},(function(){T.a.post("https://103.14.21.56:7443/api/v1/token/",{username:n.state.username,password:n.state.password,httpAgent:s}).then((function(e){console.log(e.data),200===e.status&&(!0===e.data.is_superuser?(localStorage.setItem("token",e.data.access),localStorage.setItem("username",e.data.username),n.setState({loading:!1,redirect:!0})):n.setState({fail:!0,redirect:!1,loading:!1}))})).catch((function(e){n.setState({loading:!1,fail:!0})}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.changeHandler=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.state={username:"",password:"",loading:!1,redirect:!1,fail:!1,notAdmin:!1,notLogin:void 0!==e.location.state},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/home"}):r.a.createElement(h.h,{className:"pb-4"},r.a.createElement(h.z,{className:"mb-4",center:!0},r.a.createElement(h.f,{md:"6",sm:"12",className:"mb-4 md-offset-3"},r.a.createElement(h.c,{style:{marginTop:"100px"}},r.a.createElement(h.d,null,r.a.createElement("center",null,r.a.createElement("img",{src:"https://img.icons8.com/color/96/000000/lock.png",alt:""}),r.a.createElement("h2",null,r.a.createElement("b",null,"LOGIN")),r.a.createElement("div",{className:"err-login"}),!0===this.state.notLogin?r.a.createElement("div",{className:"alert alert-info",role:"alert"},"You're session has expired, please login again."):"",!0===this.state.fail?r.a.createElement(h.a,{color:"danger"},r.a.createElement(h.m,{icon:"exclamation-triangle"})," Inccorect username or password given!"):""),r.a.createElement("form",{method:"POST",className:"needs-validation",onSubmit:this.submitHandler,noValidate:!0},r.a.createElement(h.n,{name:"username",type:"text",autoComplete:"off",id:"materialFormRegisterNameEx",value:this.state.username,onChange:this.changeHandler,label:"Username",icon:"user",required:!0},r.a.createElement("span",{className:"help-block text-danger"}," ",this.state.invalidUsername)),r.a.createElement("div",{className:"valid-feedback"}),r.a.createElement(h.n,{type:"password",name:"password",label:"Password",id:"materialFormRegisterPasswordEx4",value:this.state.password,onChange:this.changeHandler,icon:"lock",autoComplete:"off",required:!0}),!0===this.state.loading?r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(C,null)):r.a.createElement(h.b,{className:"btn btn-dark btn-block",type:"submit"},"Login")))))))}}]),t}(n.Component)),A=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.f,{style:{padding:"0"}},r.a.createElement(h.c,{style:{minHeight:"calc(100vh - 90px)"}},r.a.createElement(h.d,null,r.a.createElement(w,{myPropsToggle:this.props.myPropsToggle})))))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={myToggle:!1},a.handleToggle=function(e){a.setState({myToggle:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{myPropsToggle:this.state.myToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myToggle}),r.a.createElement(A,{myPropsToggle:this.state.myToggle}))}}]),t}(n.Component),z=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={id:"",username:"",id_profile:"",nik:"",name:"",email:"",address:"",generation:0,gender:"",telp:"",active:"",photo:"",redirect:!1,error:!1},n.submitHandler=function(e){e.preventDefault(),document.querySelector(".form-control").classList.remove("invalid"),console.log("clicked");var t=new(a(13).Agent)({rejectUnauthorized:!1});T()({method:"PUT",url:"https://103.14.21.56:7443/api/v1/users/user-profile/"+n.state.id_profile+"/",headers:{Authorization:"Bearer "+localStorage.getItem("token")},httpsAgent:t,data:{id:n.state.id,username:n.state.username,id_profile:n.state.id_profile,nik:n.state.nik,name:n.state.name,email:n.state.email,address:n.state.address,generation:n.state.generation,gender:n.state.gender,telp:n.state.telp,is_active:n.state.active,url_photo:null}}).then((function(e){console.log(e),document.querySelector(".error-message").innerHTML="",document.querySelector(".form-control").classList.remove("invalid"),n.setState({redirect:!0,error:!1})})).catch((function(e){document.getElementsByClassName("error-message").innerHTML="",document.querySelector(".form-control").classList.remove(".invalid"),n.setState({error:!0}),Object.entries(e.response.data).map((function(e,t){n.addErrorToField(e[0],e[1][0])}))}))},n.addErrorToField=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!0===n.state.error){document.querySelector('[name="'+e+'"]');document.querySelector(".error-"+e).innerHTML=t}},n.changeHandler=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.changeRadio=function(e){return function(){n.setState({gender:e})}},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(j.a.mark((function e(){var t,n,r=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),n=new t.Agent({rejectUnauthorized:!1}),e.next=4,T.a.get("https://103.14.21.56:7443/api/v1/users/user/"+this.props.id,{httpsAgent:n,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){r.setState({id:e.data.id,id_profile:e.data.profile[0].id_profile,nik:null===e.data.profile[0].nik?"":e.data.profile[0].nik,username:e.data.username,name:null===e.data.profile[0].name?"":e.data.profile[0].name,email:e.data.email,address:null===e.data.profile[0].address?"":e.data.profile[0].address,gender:null===e.data.profile[0].gender?"L":e.data.profile[0].gender,generation:null===e.data.profile[0].generation?0:e.data.profile[0].generation,telp:e.data.telp,active:e.data.is_active})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirect?r.a.createElement(d.a,{to:"/home"}):r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.f,{style:{padding:"0"}},r.a.createElement(h.c,null,r.a.createElement(h.d,null,r.a.createElement(h.e,{className:"teal-text"},"Edit User"),r.a.createElement("form",{method:"POST",onSubmit:this.submitHandler,noValidate:!0},r.a.createElement(h.z,null,r.a.createElement(h.f,{md:"6",sm:"12",xl:"6"},r.a.createElement("div",{className:"form-group"},r.a.createElement(h.n,{label:"Username",size:"md",value:this.state.username,onChange:this.changeHandler,name:"username"},r.a.createElement("span",{className:"error-username error-message"})),r.a.createElement(h.n,{label:"NIK",size:"md",value:this.state.nik,onChange:this.changeHandler,name:"nik",autoComplete:"off"},r.a.createElement("span",{className:"error-nik error-message"})),r.a.createElement(h.n,{label:"Name",size:"md",value:this.state.name,onChange:this.changeHandler,name:"name"},r.a.createElement("span",{className:"error-name error-message"})),r.a.createElement(h.n,{label:"Email",size:"md",value:this.state.email,onChange:this.changeHandler,name:"email"},r.a.createElement("span",{className:"error-email error-message"})),r.a.createElement(h.n,{label:"Address",type:"textarea",size:"md",rows:"4",value:this.state.address,onChange:this.changeHandler,name:"address"},r.a.createElement("span",{className:"error-address error-message"})),r.a.createElement("div",{className:"form-inline"},r.a.createElement(h.n,{onClick:this.changeRadio("L"),onChange:this.changeHandler,checked:"L"===this.state.gender,label:"Laki-laki",value:"L",type:"radio",id:"radio1"}),r.a.createElement(h.n,{onClick:this.changeRadio("P"),onChange:this.changeHandler,checked:"P"===this.state.gender,label:"Perempuan",value:"P",type:"radio",id:"radio2"}),r.a.createElement("p",{className:"error-gender error-message"})),r.a.createElement(h.n,{label:"Generation",type:"number",size:"md",value:this.state.generation,onChange:this.changeHandler,name:"generation",style:{WebkitAappearance:"none"}},r.a.createElement("span",{className:"error-generation error-message"})),r.a.createElement(h.n,{label:"Telp",size:"md",value:this.state.telp,onChange:this.changeHandler,name:"telp"},r.a.createElement("span",{className:"error-telp error-message"})),r.a.createElement(h.b,{type:"submit",className:"btn",color:"secondary"},"Save")))))))))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(z,{myPropsToggle:this.state.myPropsToggle,id:this.props.match.params.id}))}}]),t}(n.Component),U=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).changeHandler=function(t){e.setState(Object(g.a)({},t.target.name,t.target.value))},e.submitHandler=function(){var t=Object(_.a)(j.a.mark((function t(n){var r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=a(13),s=new r.Agent({rejectUnauthorized:!1}),t.next=5,e.setState({loading:!0},(function(){T()({method:"POST",url:"https://103.14.21.56:7443/api/v1/users/user/",httpsAgent:s,data:{username:e.state.username,password:e.state.password,confirm_password:e.state.confirm_password,email:e.state.email,telp:e.state.telp}}).then((function(t){e.setState({redirect:!0,loading:!1})})).catch((function(t){e.setState({errors:t.response.data,loading:!1})}))}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={username:"",password:"",confirm_password:"",email:"",telp:"",loading:!1,errors:[],redirect:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return!0===this.state.redirect?r.a.createElement(d.a,{to:"/home"}):r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.f,{style:{padding:"0"}},r.a.createElement(h.c,null,r.a.createElement(h.d,{style:{minHeight:"calc(100vh - 60px)"}},r.a.createElement(h.e,{className:"teal-text"},"Add User"),r.a.createElement("form",{method:"POST",action:"",onSubmit:this.submitHandler},r.a.createElement(h.n,{label:"Username",size:"md",value:this.state.username,onChange:this.changeHandler,name:"username",autoComplete:"off",className:this.state.errors.username?"is-invalid":""},r.a.createElement("span",{className:"error-username error-message"},this.state.errors.username?this.state.errors.username[0]:"")),r.a.createElement(h.n,{type:"password",label:"Password",size:"md",value:this.state.password,onChange:this.changeHandler,name:"password",autoComplete:"off",className:this.state.errors.password?"is-invalid":""},r.a.createElement("span",{className:"error-password error-message"},this.state.errors.password?this.state.errors.password[0]:"")),r.a.createElement(h.n,{type:"password",label:"Confirm Password",size:"md",value:this.state.confirm_password,onChange:this.changeHandler,name:"confirm_password",autoComplete:"off",className:this.state.errors.confirm_password?"is-invalid":""},r.a.createElement("span",{className:"error-confirm_password error-message"},this.state.errors.confirm_password?this.state.errors.confirm_password[0]:"")),r.a.createElement(h.n,{label:"Email",size:"md",value:this.state.email,onChange:this.changeHandler,name:"email",autoComplete:"off",className:this.state.errors.email?"is-invalid":""},r.a.createElement("span",{className:"error-email error-message"},this.state.errors.email?this.state.errors.email[0]:"")),r.a.createElement(h.n,{label:"Telp",size:"md",value:this.state.telp,onChange:this.changeHandler,name:"telp",autoComplete:"off",className:this.state.errors.telp?"is-invalid":""},r.a.createElement("span",{className:"error-telp error-message"},this.state.errors.telp?this.state.errors.telp[0]:"")),!0===this.state.loading?r.a.createElement(h.b,{type:"button",color:"purple",style:{padding:"0.4rem 2.12rem"}},r.a.createElement(C,null)):r.a.createElement(h.b,{type:"submit",className:"btn",color:"secondary"},"Submit"))))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.myPropsToggle),r.a.createElement(n.Fragment,null,r.a.createElement(y,{myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.props.location.state.myPropsToggle}),r.a.createElement(U,{myPropsToggle:this.state.myPropsToggle}))}}]),t}(n.Component),H=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).deletePromo=function(){var e=Object(_.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure want to delete this promo?")){e.next=3;break}return e.next=3,n.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1});T()({method:"DELETE",url:"https://103.14.21.56:7443/api/v1/promotions/promotion/"+t+"/",httpAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),n.getData(n.state.activePage)})).catch((function(e){console.log(e)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handlePageChange=function(e){n.getData(e),console.log("active page is ".concat(e)),n.setState({activePage:e})},n.state={data:[],loading:!1,activePage:1,totalData:1,curPage:1},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getData",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var n=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1}),r=10*(t-1);T.a.get("https://103.14.21.56:7443/api/v1/promotions/promotion/?limit=10&offset="+r,{httpsAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({loading:!1,data:e.data.results,totalData:e.data.count})})).catch((function(e){console.log(e)}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData(1)}},{key:"render",value:function(){var e=this,t=this.state.totalData,a=10*(this.state.activePage-1)+1,n=this.state.data.map((function(t,n){return r.a.createElement("tr",{key:t.id_promotion},r.a.createElement("td",{className:"text-center"},a++),r.a.createElement("td",null,t.id_promotion),r.a.createElement("td",null,t.promotion_title),r.a.createElement("td",null,t.description),r.a.createElement("td",null,r.a.createElement("img",{src:t.url_banner,alt:"",style:{width:"60px"}})),r.a.createElement("td",null,t.created_at),r.a.createElement("td",null,t.expired_date),r.a.createElement("td",null,t.expired_text),r.a.createElement("td",null,r.a.createElement(p.b,{to:{pathname:"/promotion/edit-promotion/"+t.id_promotion,state:{myPropsToggle:e.props.myPropsToggle}}},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-purple",style:{width:"max-content",margin:0}},r.a.createElement("i",{className:"fa fa-edit"})," Edit"))),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:e.deletePromo.bind(e,t.id_promotion),style:{width:"max-content",margin:0}},r.a.createElement("i",{className:"fa fa-trash-alt"})," Delete")))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive",style:{width:"100%",overflowY:"auto"}},r.a.createElement(p.b,{to:{pathname:"/promotion/add-promotion/",state:{myPropsToggle:this.props.myPropsToggle}}},r.a.createElement("button",{type:"button",className:"btn btn-success"},r.a.createElement("i",{className:"fa fa-plus-circle"})," Add Promotion")),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",null,"No"),r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Expired"),r.a.createElement("th",null,"Expired Text"),r.a.createElement("th",{colSpan:"2"},"Action"))),r.a.createElement("tbody",null,this.state.loading?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"10",className:"text-center"},r.a.createElement(C,null))):n))),r.a.createElement("nav",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:"2em"}},r.a.createElement(O.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:t,pageRangeDisplayed:5,onChange:this.handlePageChange,innerClass:"pagination pagination-circle pg-red",itemClass:"page-item",linkClass:"page-link waves-effect waves-effect",prevPageText:"\xab",nextPageText:"\xbb",firstPageText:"First",lastPageText:"Last"})))}}]),t}(n.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.f,{style:{padding:"0"}},r.a.createElement(h.c,{style:{minHeight:"calc(100vh - 90px)"}},r.a.createElement(h.d,null,r.a.createElement(H,{myPropsToggle:this.props.myPropsToggle})))))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={myToggle:!1},a.handleToggle=function(e){a.setState({myToggle:e})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{myPropsToggle:this.state.myToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myToggle}),r.a.createElement(B,{myPropsToggle:this.state.myToggle}))}}]),t}(n.Component),L=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={promotion_title:"",description:"",expired_date:"",url_banner:"",errors:[]},n.changeHandler=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value),(function(){console.log(n.state.expired_date)}))},n.fileHandler=function(e){n.setState({url_banner:e.target.files[0]})},n.submitHandler=function(e){e.preventDefault();var t=localStorage.getItem("token"),r=new(a(13).Agent)({rejectUnauthorized:!1}),s=n.state.expired_date+" 00:00:00+0700",o=new FormData;o.append("promotion_title",n.state.promotion_title),o.append("description",n.state.description),o.append("expired_date",s),o.append("url_banner",n.state.url_banner),T()({method:"POST",url:"https://103.14.21.56:7443/api/v1/promotions/promotion/",httpsAgent:r,headers:{Authorization:"Bearer "+t,"Content-Type":"multipart/form-data"},data:o}).then((function(e){n.setState({redirect:!0})})).catch((function(e){n.setState({errors:e.response.data})}))},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(this.state.redirect)return r.a.createElement(d.a,{to:"/promotion"});console.log(this.props.myPropsToggle);var e=""===this.state.url_banner?"Choose File":this.state.url_banner.name;return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body",style:{minHeight:"calc(100vh - 60px)"}},r.a.createElement(h.f,{sm:"12",md:"6",xl:"6"},r.a.createElement("p",{className:"card-title teal-text"},"Add Promotion"),r.a.createElement("form",{action:"",method:"POST",onSubmit:this.submitHandler,encType:"multipart/form-data"},r.a.createElement("div",{className:"form-group"},r.a.createElement(h.n,{type:"text",label:"Promotion Title",size:"md",value:this.state.promotion_title,onChange:this.changeHandler,name:"promotion_title",autoComplete:"off",className:this.state.errors.promotion_title?"is-invalid":""},r.a.createElement("span",{className:"error-message"},this.state.errors.promotion_title?this.state.errors.promotion_title[0]:"")),r.a.createElement(h.n,{type:"textarea",label:"Description",size:"md",value:this.state.description,onChange:this.changeHandler,name:"description",autoComplete:"off",className:this.state.errors.description?"is-invalid":""},r.a.createElement("span",{className:"error-message"},this.state.errors.description?this.state.errors.description[0]:"")),r.a.createElement("div",{className:"form-md"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",name:"url_banner",className:"custom-file-input",id:"inputGroupFile01",ref:"upload",onChange:this.fileHandler,"aria-describedby":"inputGroupFileAddon01"}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},e))),r.a.createElement("small",{id:"expiredDateHelpText",className:"form-text text-muted"},"Choose image for promotion"),r.a.createElement("div",{className:"error-message"},this.state.errors.url_banner?this.state.errors.url_banner[0]:"")),r.a.createElement(h.n,{type:"date",name:"expired_date",className:this.state.errors.expired_date?"is-invalid":"",value:this.state.expired_date,autoComplete:"false",spellCheck:"false",onChange:this.changeHandler},r.a.createElement("small",{className:"form-text text-muted"},"Select date that promotion will ends"),r.a.createElement("span",{className:"error-message"},this.state.errors.expired_date?this.state.errors.expired_date[0]:"")),r.a.createElement("button",{type:"submit",className:"btn btn-purple"},"Submit")))))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(n.Fragment,null,r.a.createElement(y,{myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(L,{myPropsToggle:this.state.myPropsToggle}))}}]),t}(n.Component),G=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value),(function(){console.log(n.state.expired_date)}))},n.fileHandler=function(e){n.setState({url_banner:e.target.files[0]},(function(){var e=new FileReader;e.onload=function(e){document.getElementById("url_preview_banner").setAttribute("src",e.target.result)},e.readAsDataURL(n.state.url_banner)}))},n.handleSubmit=function(e){e.preventDefault();var t=localStorage.getItem("token"),r=new(a(13).Agent)({rejectUnauthorized:!1}),s=new FormData;s.append("promotion_title",n.state.promotion_title),s.append("description",n.state.description),s.append("expired_date",n.state.expired_date),s.append("url_banner",n.state.url_banner),T()({method:"PUT",url:"https://103.14.21.56:7443/api/v1/promotions/promotion/"+n.props.id+"/",httpsAgent:r,headers:{Authorization:"Bearer "+t,"Content-Type":"multipart/form-data"},data:s}).then((function(e){n.setState({redirect:!0})})).catch((function(e){console.log(e.response),n.setState({errors:e.response.data})}))},n.state={loading:!1,created_at:"",promotion_title:"",description:"",url_banner:"",expired_date:new Date,errors:[]},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1});T.a.get("https://103.14.21.56:7443/api/v1/promotions/promotion/"+t.props.id,{httpsAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.setState({loading:!1,created_at:e.data.created_at,promotion_title:e.data.promotion_title,description:e.data.description,url_banner:e.data.url_banner,expired_date:e.data.expired_date})})).catch((function(e){console.log(e.response)}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;console.log(this.state.expired_date);var t=""===this.state.url_banner?"Choose File":this.state.url_banner.name,a=new Date(this.state.expired_date),n=a.getDate()<10?"0"+a.getDate():a.getDate(),s=a.getMonth()<10?"0"+(a.getMonth()+1):a.getMonth()+1,o=a.getFullYear()+"-"+s+"-"+n;return console.log(a),console.log(o),r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.c,null,r.a.createElement(h.d,{className:"card-body"},r.a.createElement(h.f,{md:"6",xl:"6",sm:"12"},r.a.createElement(h.e,{className:"teal-text"},"Edit Promotion"),this.state.loading?r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement(C,null)):r.a.createElement("form",{onSubmit:this.handleSubmit,method:"POST"},r.a.createElement(h.n,{type:"text",name:"promotion_title",onChange:this.handleChange,label:"Promotion Title",value:this.state.promotion_title,className:this.state.errors.promotion_title?"is-invalid":""},this.state.errors.promotion_title?r.a.createElement("span",{className:"error-message"},this.state.errors.promotion_title[0]):""),r.a.createElement(h.n,{type:"textarea",name:"description",onChange:this.handleChange,label:"Description",value:this.state.description,className:this.state.errors.description?"is-invalid":""},this.state.errors.description?r.a.createElement("span",{className:"error-message"},this.state.errors.description[0]):""),r.a.createElement("div",{className:"form-md"},r.a.createElement("p",null,"Image Banner"),r.a.createElement("img",{src:this.state.url_banner,id:"url_preview_banner",alt:"",style:{width:"100px",marginBottom:"1em"}})),r.a.createElement("div",{className:"form-md"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",(e={type:"file",name:"url_banner",className:"custom-file-input",id:"inputGroupFile01",ref:"upload",onChange:this.fileHandler},Object(g.a)(e,"className",this.state.errors.url_banner?"is-invalid":""),Object(g.a)(e,"aria-describedby","inputGroupFileAddon01"),e)),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},t))),r.a.createElement("small",{id:"expiredDateHelpText",className:"form-text text-muted"},"Change image for promotion"),r.a.createElement("div",{className:"error-message"},this.state.errors.url_banner?this.state.errors.url_banner[0]:"")),r.a.createElement(h.n,Object(g.a)({type:"date",name:"expired_date",className:this.state.errors.expired_date?"is-invalid":"",value:o,autoComplete:"false",spellCheck:"false",onChange:this.handleChange},"className",this.state.errors.expired_date?"is-invalid":""),r.a.createElement("small",{className:"form-text text-muted"},"Change date that promotion will ends"),r.a.createElement("span",{className:"error-message"},this.state.errors.expired_date?this.state.errors.expired_date[0]:"")),r.a.createElement(h.b,{type:"submit",color:"purple"},"Submit"))))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(G,{myPropsToggle:this.state.myPropsToggle,id:this.props.match.params.id}))}}]),t}(n.Component),R=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).deleteCareerCategory=function(){var e=Object(_.a)(j.a.mark((function e(t,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure want to delete this category "+r+"?")){e.next=3;break}return e.next=3,n.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1});T()({method:"DELETE",url:"https://103.14.21.56:7443/api/v1/jobs/career-category/"+t+"/",httpAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.getData(n.state.activePage)})).catch((function(e){console.log(e)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handlePageChange=function(e){n.getData(e),console.log("active page is ".concat(e)),n.setState({activePage:e})},n.state={data:[],loading:!1,activePage:1,totalData:1,curPage:1},console.log(e),n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"getData",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var n=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1}),r=10*(t-1);n.setState({loading:!0},(function(){T.a.get("https://103.14.21.56:7443/api/v1/jobs/career-category/?limit=10&offset="+r,{httpsAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({loading:!1,data:e.data.results,totalData:e.data.count})})).catch((function(e){console.log(e)}))}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData(1)}},{key:"render",value:function(){var e=this,t=10*(this.state.activePage-1)+1,a=this.state.totalData,n=this.state.data.map((function(a){return r.a.createElement("tr",{key:a.id_category},r.a.createElement("td",{className:"text-center"},t++),r.a.createElement("td",null,a.id_category),r.a.createElement("td",null,a.category),r.a.createElement("td",{className:"text-center"},r.a.createElement("img",{src:a.url_image,alt:"",style:{width:"40px"}})),r.a.createElement("td",{width:"12%",className:"text-center"},r.a.createElement(p.b,{to:{pathname:"/business/career-category/edit/"+a.id_category,state:{id:a.id_category,myPropsToggle:e.props.myPropsToggle}}},r.a.createElement("button",{type:"button",className:"btn btn-purple btn-sm",style:{width:"max-content",margin:0}},r.a.createElement(h.m,{icon:"edit"})," Edit"))),r.a.createElement("td",{width:"12%",className:"text-center"},r.a.createElement("button",{type:"button",className:"btn btn-danger btn-sm",onClick:e.deleteCareerCategory.bind(e,a.id_category,a.category),style:{width:"max-content",margin:0}},r.a.createElement(h.m,{icon:"trash"})," Delete ")))}));return r.a.createElement("div",{className:"table-responsive"},r.a.createElement(p.b,{to:{pathname:"/business/career-category/add",state:{myPropsToggle:this.props.myPropsToggle,show:this.props.show}}},r.a.createElement(h.b,{color:"success"},r.a.createElement("i",{className:"fa fa-plus-circle"})," Add Category")),r.a.createElement("table",{className:"table table-condensed"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",null,"No"),r.a.createElement("th",null,"ID Category"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.state.loading?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"46",className:"text-center"},r.a.createElement(C,null))):n)),r.a.createElement("nav",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(O.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:a,pageRangeDisplayed:5,onChange:this.handlePageChange,innerClass:"pagination pagination-circle pg-red",itemClass:"page-item",linkClass:"page-link waves-effect waves-effect",prevPageText:"\xab",nextPageText:"\xbb",firstPageText:"First",lastPageText:"Last"})))}}]),t}(n.Component),V=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.f,{style:{padding:"0"}},r.a.createElement(h.c,{style:{width:"100%"}},r.a.createElement(h.d,null,r.a.createElement(R,{myPropsToggle:this.props.myPropsToggle})))))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myToggle:e})},a.state={myToggle:void 0!==e.location.state&&e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myToggle}),r.a.createElement(V,{myPropsToggle:this.state.myToggle}))}}]),t}(n.Component),W=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.handleImage=function(e){n.setState({url_image:e.target.files[0]})},n.handleSubmit=function(e){e.preventDefault();var t=localStorage.getItem("token"),r=new(a(13).Agent)({rejectUnauthorized:!1}),s=new FormData;s.append("category",n.state.category),s.append("url_image",n.state.url_image),T()({method:"POST",url:"https://103.14.21.56:7443/api/v1/jobs/career-category/",httpsAgent:r,headers:{Authorization:"Bearer "+t,"Content-Type":"multipart/form-data"},data:s}).then((function(e){n.setState({redirect:!0})})).catch((function(e){n.setState({errors:e.response.data})}))},n.state={category:"",url_image:"",errors:[],redirect:!1},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e;if(!0===this.state.redirect)return r.a.createElement(d.a,{to:{pathname:"/business/career-category",state:{myPropsToggle:this.props.myPropsToggle}}});var t=""===this.state.url_image?"Choose File":this.state.url_image.name;return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.z,null,r.a.createElement(h.f,null,r.a.createElement(h.c,null,r.a.createElement(h.d,{className:"col-md-6 col-sm-12",style:{height:"calc(100vh - 95px)"}},r.a.createElement(h.e,{className:"teal-text"},"Add Career Category"),r.a.createElement("form",{method:"POST",onSubmit:this.handleSubmit},r.a.createElement(h.n,{type:"text",name:"category",label:"Category",autoComplete:"off",onChange:this.handleChange,value:this.state.category,className:this.state.errors.category?"is-invalid":""},this.state.errors.category?r.a.createElement("span",{className:"error-message"},this.state.errors.category[0]):""),r.a.createElement("div",{className:"form-md"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",(e={type:"file",name:"url_banner",className:"custom-file-input",id:"inputGroupFile01",ref:"upload",onChange:this.handleImage},Object(g.a)(e,"className",this.state.errors.url_image?"is-invalid":""),Object(g.a)(e,"aria-describedby","inputGroupFileAddon01"),e)),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},t))),r.a.createElement("small",{id:"expiredDateHelpText",className:"form-text text-muted"},"Choose image for promotion"),this.state.errors.url_image?r.a.createElement("div",{className:"error-message"},this.state.errors.url_image[0]):""),r.a.createElement(h.b,{type:"submit",color:"purple",style:{marginTop:"2em"}},"Submit")))))))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(W,{myPropsToggle:this.state.myPropsToggle}))}}]),t}(n.Component),Q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=localStorage.getItem("token"),r=new(a(13).Agent)({rejectUnauthorized:!1}),s=new FormData;s.append("category",n.state.category),s.append("url_image",n.state.url_image),T()({method:"PUT",url:"https://103.14.21.56:7443/api/v1/jobs/career-category/"+n.props.id+"/",httpsAgent:r,headers:{Authorization:"Bearer "+t,"Content-Type":"multipart/form-data"},data:s}).then((function(e){n.setState({redirect:!0})})).catch((function(e){console.log(e.response),n.setState({errors:e.response.data})}))},n.state={category:"",url_image:"",redirect:!1,loading:!1,errors:[]},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1});T.a.get("https://103.14.21.56:7443/api/v1/jobs/career-category/"+t.props.id,{httpsAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){t.setState({loading:!1,category:e.data.category,url_image:e.data.url_image})})).catch((function(e){console.log(e.response)}))}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.z,null,r.a.createElement(h.f,null,r.a.createElement(h.c,null,r.a.createElement(h.d,{className:"col-md-6 col-sm-12",style:{minHeight:"calc(100vh - 95px)"}},r.a.createElement(h.e,{className:"teal-text"},"Edit Career Category"),r.a.createElement("form",{method:"POST",onSubmit:this.handleSubmit},r.a.createElement(h.n,{type:"text",name:"category",onChange:this.handleChange,label:"Category",autoComplete:"off"},this.state.errors.category?r.a.createElement("span",{className:"career-category"},this.state.errors.category[0]):""),r.a.createElement("div",{className:"form-md"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",(e={type:"file",name:"url_image",className:"custom-file-input",id:"inputGroupFile01",ref:"upload",onChange:this.handleFile},Object(g.a)(e,"className",this.state.errors.url_image?"is-invalid":""),Object(g.a)(e,"aria-describedby","inputGroupFileAddon01"),e)),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"}))),r.a.createElement("small",{id:"expiredDateHelpText",className:"form-text text-muted"},"Change image for career category"),r.a.createElement("div",{className:"error-message"},this.state.errors.url_image?this.state.errors.url_image[0]:"")),r.a.createElement(h.b,{type:"submit",color:"purple",style:{marginTop:"2em"}},"Submit")))))))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(Q,{myPropsToggle:this.state.myPropsToggle,id:this.props.match.params.id}))}}]),t}(n.Component),Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).handlePageChange=function(e){n.getData(e),console.log("active page is ".concat(e)),n.setState({activePage:e})},n.deleteJobVacancy=function(){var e=Object(_.a)(j.a.mark((function e(t,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure want to delete this job "+r+"?")){e.next=3;break}return e.next=3,n.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1});T()({method:"DELETE",url:"https://103.14.21.56:7443/api/v1/jobs/job-vacancy/"+t+"/",httpAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.getData(n.state.activePage)})).catch((function(e){console.log(e)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={data:[],loading:!1,activePage:1,totalData:1,curPage:1},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData(1)}},{key:"getData",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var n,r,s,o=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(13),r=new n.Agent({rejectUnauthorized:!1}),s=10*(t-1),e.next=5,this.setState({loading:!0},(function(){T.a.get("https://103.14.21.56:7443/api/v1/jobs/job-vacancy/?limit=10&offset="+s,{httpsAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e.data),o.setState({loading:!1,data:e.data.results,totalData:e.data.count})})).catch((function(e){console.log(e)}))}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.totalData,a=0,n=this.state.data.map((function(t){return a+=1,r.a.createElement("tr",{key:t.id_job},r.a.createElement("td",null,a),r.a.createElement("td",null,t.category_name),r.a.createElement("td",null,t.company_name),r.a.createElement("td",null,t.type_job),r.a.createElement("td",null,t.function_job),r.a.createElement("td",null,t.required_skill),r.a.createElement("td",null,t.title_joblist),r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.created_at),r.a.createElement("td",null,t.expired_date),r.a.createElement("td",{className:"text-center"},r.a.createElement(p.b,{to:{pathname:"/business/job-vacancy/edit/"+t.id_job,state:{myPropsToggle:e.props.myPropsToggle,id:t.id_job}}},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-purple",title:"Edit",style:{width:"max-content",margin:0}},r.a.createElement("i",{className:"fa fa-edit"})," Edit"))),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",title:"Delete",onClick:e.deleteJobVacancy.bind(e,t.id_job,t.title_joblist),style:{width:"max-content",margin:0}},r.a.createElement("i",{className:"fa fa-trash-alt"})," Delete")))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive",style:{width:"100%",overflowY:"auto"}},r.a.createElement(p.b,{to:{pathname:"/business/job-vacancy/add/",state:{myPropsToggle:this.props.myPropsToggle}}},r.a.createElement(h.b,{type:"button",color:"success"},r.a.createElement(h.m,{icon:"plus-circle",size:"md"})," Add Job Vacancy")),r.a.createElement("table",{className:"table table-condensed"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Company"),r.a.createElement("th",null,"Type Job"),r.a.createElement("th",null,"Function Job"),r.a.createElement("th",null,"Required Skill"),r.a.createElement("th",null,"Title Job List"),r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Created"),r.a.createElement("th",null,"Expired"),r.a.createElement("th",{colSpan:"2"},"Action"))),r.a.createElement("tbody",null,this.state.loading?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"12",className:"text-center"},r.a.createElement(C,null))):n))),r.a.createElement("nav",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:"2em"}},r.a.createElement(O.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:t,pageRangeDisplayed:5,onChange:this.handlePageChange,innerClass:"pagination pagination-circle pg-red",itemClass:"page-item",linkClass:"page-link waves-effect waves-effect",prevPageText:"\xab",nextPageText:"\xbb",firstPageText:"First",lastPageText:"Last"})))}}]),t}(n.Component),$=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.f,{style:{padding:"0"}},r.a.createElement(h.c,{style:{width:"100%"}},r.a.createElement(h.d,null,r.a.createElement(Z,{myPropsToggle:this.props.myPropsToggle})))))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myToggle:e})},a.state={myToggle:void 0!==e.location.state&&a.props.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myToggle}),r.a.createElement($,{myPropsToggle:this.state.myToggle}))}}]),t}(n.Component),te=function(e){var t=e.user;return r.a.createElement("option",{value:t.username},t.username)},ae=function(e){var t=e.category;return r.a.createElement("option",{value:t.id_category},t.category)},ne=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.getAllCategory=function(){var e=new(a(13).Agent)({rejectUnauthorized:!1});T.a.get("https://103.14.21.56:7443/api/v1/jobs/career-category/",{httpsAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({categoryDropdown:e.data})})).catch((function(e){console.log(e.response)}))},n.getAllUser=Object(_.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),r=new t.Agent({rejectUnauthorized:!1}),e.next=4,T.a.get("https://103.14.21.56:7443/api/v1/users/user/",{httpsAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({usernameDropdown:e.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.handleImage=function(e){n.setState({image_job:e.target.files[0]})},n.handleSubmit=function(e){e.preventDefault();var t=n.state.expired_date+" 23:59:00+0700",r=new(a(13).Agent)({rejectUnauthorized:!1}),s=new FormData;s.append("username",n.state.username),s.append("image_job",n.state.image_job),s.append("title_joblist",n.state.title_joblist),s.append("company_name",n.state.company_name),s.append("function_job",n.state.function_job),s.append("type_job",n.state.type_job),s.append("experience_job",n.state.experience_job),s.append("required_skill",n.state.required_skill),s.append("desc",n.state.desc),s.append("expired_date",t),s.append("id_category",n.state.id_category),T()({method:"POST",url:"https://103.14.21.56:7443/api/v1/jobs/job-vacancy/",httpAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"multipart/form-data"},data:s}).then((function(e){n.setState({redirect:!0})})).catch((function(e){console.log(e.response),n.setState({errors:e.response.data})}))},n.state={username:"",title_joblist:"",company_name:"",experience_job:"",required_skill:"",function_job:"",type_job:"",desc:"",expired_date:"",id_category:"",image_job:"",usernameDropdown:[],categoryDropdown:[],errors:[],redirect:!1},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllUser(),this.getAllCategory()}},{key:"render",value:function(){var e,t=""===this.state.image_job?"Choose Image":this.state.image_job.name,a=this.state.usernameDropdown.map((function(e){return r.a.createElement(te,{key:e.id,user:e})})),n=this.state.categoryDropdown.map((function(e){return r.a.createElement(ae,{key:e.id_category,category:e})}));return!0===this.state.redirect?r.a.createElement(d.a,{to:{pathname:"/business/job-vacancy",state:{myPropsToggle:this.props.myPropsToggle}}}):r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.z,null,r.a.createElement(h.f,{size:"12"},r.a.createElement(h.c,null,r.a.createElement(h.d,{style:{minHeight:"calc(100vh - 95px)"}},r.a.createElement(h.e,{className:"teal-text"},"Add Job Vacancy"),r.a.createElement("form",{method:"POST",onSubmit:this.handleSubmit,encType:"multipart/form-data"},r.a.createElement(h.z,null,r.a.createElement(h.f,{md:"6",sm:"12"},r.a.createElement("div",{className:"form-group"},r.a.createElement(h.n,{type:"text",name:"title_joblist",label:"Job Title",onChange:this.handleChange,autoComplete:"off",className:this.state.errors.title_joblist?"is-invalid":""},this.state.errors.title_joblist?r.a.createElement("span",{className:"error-message"},this.state.errors.title_joblist[0]):""),r.a.createElement(h.n,{type:"text",name:"company_name",label:"Company Name",onChange:this.handleChange,autoComplete:"off",className:this.state.errors.company_name?"is-invalid":""},this.state.errors.company_name?r.a.createElement("span",{className:"error-message"},this.state.errors.company_name[0]):""),r.a.createElement(h.n,{type:"text",name:"function_job",label:"Function Job",onChange:this.handleChange,autoComplete:"off",className:this.state.errors.function_job?"is-invalid":""},this.state.errors.function_job?r.a.createElement("span",{className:"error-message"},this.state.errors.function_job[0]):""),r.a.createElement(h.n,{type:"text",name:"experience_job",label:"Experience Job",onChange:this.handleChange,autoComplete:"off",className:this.state.errors.experience_job?"is-invalid":""},this.state.errors.experience_job?r.a.createElement("span",{className:"error-message"},this.state.errors.experience_job[0]):""),r.a.createElement(h.n,{type:"text",name:"required_skill",label:"Required Skill",onChange:this.handleChange,autoComplete:"off",className:this.state.errors.required_skill?"is-invalid":""},this.state.errors.required_skill?r.a.createElement("span",{className:"error-message"},this.state.errors.required_skill[0]):""),r.a.createElement(h.n,{type:"textarea",name:"desc",label:"Description",onChange:this.handleChange,autoComplete:"off",className:this.state.errors.desc?"is-invalid":""},this.state.errors.desc?r.a.createElement("span",{className:"error-message"},this.state.errors.desc[0]):""),r.a.createElement(h.n,{type:"date",name:"expired_date",onChange:this.handleChange,autoComplete:"off",className:this.state.errors.expired_date?"is-invalid":""},r.a.createElement("small",{className:"form-text text-muted"},"Select date that job vacancy will ends "),this.state.errors.expired_date?r.a.createElement("span",{className:"error-message"},this.state.errors.expired_date[0]):""))),r.a.createElement(h.f,{md:"6",sm:"12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-md"},r.a.createElement("label",{htmlFor:"username"},"User"),r.a.createElement("select",{className:this.state.errors.username?"form-control is-invalid":"form-control",onChange:this.handleChange,name:"username",id:"username"},r.a.createElement("option",{value:""},"Choose user"),a),this.state.errors.username?r.a.createElement("span",{className:"error-message"},this.state.errors.username[0]):"")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-md"},r.a.createElement("label",{htmlFor:"type_job"},"Job Type"),r.a.createElement("select",{className:this.state.errors.type_job?"form-control is-invalid":"form-control",onChange:this.handleChange,name:"type_job",id:"type_job"},r.a.createElement("option",{value:""},"Choose job type"),r.a.createElement("option",{value:"Part Time"},"Part Time"),r.a.createElement("option",{value:"Full Time"},"Full Time")),this.state.errors.type_job?r.a.createElement("span",{className:"error-message"},this.state.errors.type_job[0]):"")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-md"},r.a.createElement("label",{htmlFor:"id_category"},"Category"),r.a.createElement("select",{className:this.state.errors.id_category?"form-control is-invalid":"form-control",onChange:this.handleChange,name:"id_category",id:"id_category"},r.a.createElement("option",{value:""},"Choose job category"),n),this.state.errors.id_category?r.a.createElement("span",{className:"error-message"},this.state.errors.id_category[0]):"")),r.a.createElement("div",{className:"from-group form-md",style:{marginTop:"2em"}},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",(e={type:"file",name:"image_job",className:"custom-file-input",id:"inputGroupFile01",ref:"upload",accept:"image/*",onChange:this.handleImage},Object(g.a)(e,"className",this.state.errors.image_job?"is-invalid":""),Object(g.a)(e,"aria-describedby","inputGroupFileAddon01"),e)),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},t))),r.a.createElement("small",{id:"expiredDateHelpText",className:"form-text text-muted"},"Choose image for job vacancy"),this.state.errors.image_job?r.a.createElement("div",{className:"error-message"},this.state.errors.image_job[0]):""))),r.a.createElement(h.b,{style:{marginTop:"2em"},type:"submit",color:"purple"},"Submit")))))))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(ne,{myPropsToggle:this.state.myPropsToggle}))}}]),t}(n.Component),se=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.getAllCategory=function(){var e=new(a(13).Agent)({rejectUnauthorized:!1});T.a.get("https://103.14.21.56:7443/api/v1/jobs/career-category/",{httpsAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({categoryDropdown:e.data})})).catch((function(e){console.log(e.response)}))},n.getAllUser=Object(_.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),r=new t.Agent({rejectUnauthorized:!1}),e.next=4,T.a.get("https://103.14.21.56:7443/api/v1/users/user/",{httpsAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({usernameDropdown:e.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.getJobVacancy=Object(_.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),r=new t.Agent({rejectUnauthorized:!1}),e.next=4,T.a.get("https://103.14.21.56:7443/api/v1/jobs/job-vacancy/"+n.props.id+"/",{httpsAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=e.data.expired_date.split(" ");console.log(t),n.setState({username:e.data.username,title_joblist:e.data.title_joblist,company_name:e.data.company_name,experience_job:e.data.experience_job,required_skill:e.data.required_skill,function_job:e.data.function_job,type_job:e.data.type_job,desc:e.data.desc,expired_date:t[0],id_category:e.data.id_category,image_job:e.data.image_job})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=Object(_.a)(j.a.mark((function e(t){var r,s,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.state.expired_date+" 23:59:00+0700",s=a(13),o=new s.Agent({rejectUnauthorized:!1}),(l=new FormData).append("username",n.state.username),l.append("image_job",n.state.image_job),l.append("title_joblist",n.state.title_joblist),l.append("company_name",n.state.company_name),l.append("function_job",n.state.function_job),l.append("type_job",n.state.type_job),l.append("experience_job",n.state.experience_job),l.append("required_skill",n.state.required_skill),l.append("desc",n.state.desc),l.append("expired_date",r),l.append("id_category",n.state.id_category),e.next=18,n.setState({loading:!0},(function(){T()({method:"PUT",url:"https://103.14.21.56:7443/api/v1/jobs/job-vacancy/"+n.props.id+"/",httpAgent:o,headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"multipart/form-data"},data:l}).then((function(e){n.setState({redirect:!0,loading:!1})})).catch((function(e){console.log(e.response),n.setState({errors:e.response.data,loading:!1})}))}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",title_joblist:"",company_name:"",experience_job:"",required_skill:"",function_job:"",type_job:"",desc:"",expired_date:"",id_category:"",image_job:"",usernameDropdown:[],categoryDropdown:[],errors:[],redirect:!1},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllUser(),this.getAllCategory(),this.getJobVacancy()}},{key:"render",value:function(){var e;console.log(this.state.expired_date);var t=""===this.state.image_job?"Choose Image":this.state.image_job.name,a=this.state.usernameDropdown.map((function(e){return r.a.createElement(te,{key:e.id,user:e})})),n=this.state.categoryDropdown.map((function(e){return r.a.createElement(ae,{key:e.id_category,category:e})}));return!0===this.state.redirect?r.a.createElement(d.a,{to:{pathname:"/business/job-vacancy",state:{myPropsToggle:this.props.myPropsToggle}}}):r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.z,null,r.a.createElement(h.f,{size:"12"},r.a.createElement(h.c,null,r.a.createElement(h.d,{style:{minHeight:"calc(100vh - 95px)"}},r.a.createElement(h.e,{className:"teal-text"},"Edit Job Vacancy"),r.a.createElement("form",{method:"POST",onSubmit:this.handleSubmit,encType:"multipart/form-data"},r.a.createElement(h.z,null,r.a.createElement(h.f,{md:"6",sm:"12",xl:"6"},r.a.createElement("div",{className:"form-group"},r.a.createElement(h.n,{type:"text",name:"title_joblist",label:"Job Title",onChange:this.handleChange,autoComplete:"off",value:this.state.title_joblist,className:this.state.errors.title_joblist?"is-invalid":""},this.state.errors.title_joblist?r.a.createElement("span",{className:"error-message"},this.state.errors.title_joblist[0]):""),r.a.createElement(h.n,{type:"text",name:"company_name",label:"Company Name",onChange:this.handleChange,autoComplete:"off",value:this.state.company_name,className:this.state.errors.company_name?"is-invalid":""},this.state.errors.company_name?r.a.createElement("span",{className:"error-message"},this.state.errors.company_name[0]):""),r.a.createElement(h.n,{type:"text",name:"function_job",label:"Function Job",onChange:this.handleChange,autoComplete:"off",value:this.state.function_job,className:this.state.errors.function_job?"is-invalid":""},this.state.errors.function_job?r.a.createElement("span",{className:"error-message"},this.state.errors.function_job[0]):""),r.a.createElement(h.n,{type:"text",name:"experience_job",label:"Experience Job",onChange:this.handleChange,autoComplete:"off",value:this.state.experience_job,className:this.state.errors.experience_job?"is-invalid":""},this.state.errors.experience_job?r.a.createElement("span",{className:"error-message"},this.state.errors.experience_job[0]):""),r.a.createElement(h.n,{type:"text",name:"required_skill",label:"Required Skill",onChange:this.handleChange,autoComplete:"off",value:this.state.required_skill,className:this.state.errors.required_skill?"is-invalid":""},this.state.errors.required_skill?r.a.createElement("span",{className:"error-message"},this.state.errors.required_skill[0]):""),r.a.createElement(h.n,{type:"textarea",name:"desc",label:"Description",onChange:this.handleChange,autoComplete:"off",value:this.state.desc,className:this.state.errors.desc?"is-invalid":""},this.state.errors.desc?r.a.createElement("span",{className:"error-message"},this.state.errors.desc[0]):""),r.a.createElement(h.n,{type:"date",name:"expired_date",onChange:this.handleChange,autoComplete:"off",value:this.state.expired_date,className:this.state.errors.expired_date?"is-invalid":""},r.a.createElement("small",{className:"form-text text-muted"},"Select date that job vacancy will ends "),this.state.errors.expired_date?r.a.createElement("span",{className:"error-message"},this.state.errors.expired_date[0]):""))),r.a.createElement(h.f,{md:"6",sm:"12",xl:"6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-md"},r.a.createElement("label",{htmlFor:"username",className:this.state.errors.username?"error-message":""},"User"),r.a.createElement("select",{className:this.state.errors.username?"form-control is-invalid":"form-control",value:this.state.username,onChange:this.handleChange,name:"username",id:"username"},a),this.state.errors.username?r.a.createElement("span",{className:"error-message"},this.state.errors.username[0]):"")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-md"},r.a.createElement("label",{htmlFor:"type_job",className:this.state.errors.type_job?"error-message":""},"Job Type"),r.a.createElement("select",{className:this.state.errors.type_job?"form-control is-invalid":"form-control",value:this.state.type_job,onChange:this.handleChange,name:"type_job",id:"type_job"},r.a.createElement("option",{value:"Part Time"},"Part Time"),r.a.createElement("option",{value:"Full Time"},"Full Time")),this.state.errors.type_job?r.a.createElement("span",{className:"error-message"},this.state.errors.type_job[0]):"")),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-md"},r.a.createElement("label",{htmlFor:"id_category",className:this.state.errors.id_category?"error-message":""},"Category"),r.a.createElement("select",{className:this.state.errors.id_category?"form-control is-invalid":"form-control",value:this.state.id_category,onChange:this.handleChange,name:"id_category",id:"id_category"},n),this.state.errors.id_category?r.a.createElement("span",{className:"error-message"},this.state.errors.id_category[0]):"")),r.a.createElement("div",{className:"from-group form-md",style:{marginTop:"2em"}},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",(e={type:"file",name:"image_job",className:"custom-file-input",id:"inputGroupFile01",ref:"upload",accept:"image/*",onChange:this.handleImage},Object(g.a)(e,"className",this.state.errors.image_job?"is-invalid":""),Object(g.a)(e,"aria-describedby","inputGroupFileAddon01"),e)),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},t))),r.a.createElement("small",{className:"form-text text-muted"},"Change image for job vacancy"),this.state.errors.image_job?r.a.createElement("div",{className:"error-message"},this.state.errors.image_job[0]):""))),this.state.loading?r.a.createElement(h.b,{type:"button",color:"purple",style:{padding:"0.4rem 2.12rem"}},r.a.createElement(C,null)):r.a.createElement(h.b,{type:"submit",color:"purple"},"Save")))))))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(se,{myPropsToggle:this.state.myPropsToggle,id:this.props.match.params.id}))}}]),t}(n.Component),le=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).handlePageChange=function(e){n.getData(e),console.log("active page is ".concat(e)),n.setState({activePage:e})},n.deleteJobApply=function(){var e=Object(_.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure want to delete this apply job?")){e.next=3;break}return e.next=3,n.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1});T()({method:"DELETE",url:"https://103.14.21.56:7443/api/v1/jobs/job-apply/"+t+"/",httpAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.getData(n.state.activePage)})).catch((function(e){console.log(e)}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={data:[],loading:!1,activePage:1,totalData:1,curPage:1},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getData(1)}},{key:"getData",value:function(){var e=Object(_.a)(j.a.mark((function e(t){var n,r,s,o=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a(13),r=new n.Agent({rejectUnauthorized:!1}),s=10*(t-1),this.setState({loading:!0},(function(){T.a.get("https://103.14.21.56:7443/api/v1/jobs/job-apply/?limit=10&offset="+s,{httpsAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o.setState({loading:!1,data:e.data.results,totalData:e.data.count})})).catch((function(e){console.log(e)}))}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=0,a=this.state.totalData,n=this.state.data.map((function(a){return t+=1,r.a.createElement("tr",{key:a.trx_job},r.a.createElement("td",{className:"text-center"},t),r.a.createElement("td",null,a.username),r.a.createElement("td",null,a.trx_job),r.a.createElement("td",null,a.id_job),r.a.createElement("td",{className:"text-center"},a.apply_date),r.a.createElement("td",null,a.attachment_code),r.a.createElement("td",null,r.a.createElement("a",{href:a.url_attachment,target:"_blank"},a.url_attachment)),r.a.createElement("td",{className:"text-center"},r.a.createElement(p.b,{to:{pathname:"/business/job-apply/edit/"+a.trx_job,state:{myPropsToggle:e.props.myPropsToggle,id:a.trx_job}}},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-purple",style:{width:"max-content",margin:0}},r.a.createElement(h.m,{icon:"edit",size:"md"})," Edit"))),r.a.createElement("td",{className:"text-center"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger",onClick:e.deleteJobApply.bind(e,a.trx_job),style:{width:"max-content",margin:0}},r.a.createElement(h.m,{icon:"trash",size:"md"})," Delete")))}));return r.a.createElement("div",null,r.a.createElement("div",{className:"table-repsonsive",style:{width:"100%",overflowY:"auto"}},r.a.createElement(p.b,{to:{pathname:"/business/job-apply/add",state:{myPropsToggle:this.props.myPropsToggle}}},r.a.createElement(h.b,{type:"button",color:"success"},r.a.createElement(h.m,{icon:"plus-circle"})," Add Job Apply")),r.a.createElement("table",{className:"table table-condensed"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Trx Job"),r.a.createElement("th",null,"ID Job"),r.a.createElement("th",null,"Apply"),r.a.createElement("th",null,"Attach Code"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,this.state.loading?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"9",className:"text-center"},r.a.createElement(C,null))):n))),r.a.createElement("nav",{style:{width:"100%",display:"flex",marginTop:"2em",justifyContent:"center"}},r.a.createElement(O.a,{activePage:this.state.activePage,itemsCountPerPage:10,totalItemsCount:a,pageRangeDisplayed:5,onChange:this.handlePageChange,innerClass:"pagination pagination-circle pg-red",itemClass:"page-item",linkClass:"page-link waves-effect waves-effect",prevPageText:"\xab",nextPageText:"\xbb",firstPageText:"First",lastPageText:"Last"})))}}]),t}(n.Component),ie=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.f,{style:{padding:"0"}},r.a.createElement(h.c,{style:{width:"100%"}},r.a.createElement(h.d,{style:{minHeight:"calc(100vh - 95px)"}},r.a.createElement(le,{myPropsToggle:this.props.myPropsToggle})))))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myToggle:e})},a.state={myToggle:void 0!==e.location.state&&a.props.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myToggle}),r.a.createElement(ie,{myPropsToggle:this.state.myToggle}))}}]),t}(n.Component),me=function(e){var t=e.job;return r.a.createElement("option",{value:t.id_job},t.title_joblist)},ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(){var e=Object(_.a)(j.a.mark((function e(t){var r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a(13),s=new r.Agent({rejectUnauthorized:!1}),e.next=5,n.setState({loading:!0},(function(){var e=new FormData;e.append("username",n.state.username),e.append("id_job",n.state.id_job),e.append("url_attachment",n.state.url_attachment),T()({method:"POST",url:"https://103.14.21.56:7443/api/v1/jobs/job-apply/",httpsAgent:s,headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"multipart/form-data"},data:e}).then((function(e){n.setState(Object(g.a)({redirect:!0,loading:!1},"redirect",!0))})).catch((function(e){console.log(e.response),n.setState({errors:e.response.data,loading:!1})}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.handleImage=function(e){n.setState({url_attachment:e.target.files[0]})},n.getAllUser=Object(_.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),r=new t.Agent({rejectUnauthorized:!1}),e.next=4,T.a.get("https://103.14.21.56:7443/api/v1/users/user/",{httpsAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({usernameDropdown:e.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.getAllJob=Object(_.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),r=new t.Agent({rejectUnauthorized:!1}),e.next=4,T.a.get("https://103.14.21.56:7443/api/v1/jobs/job-vacancy/",{httpsAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({jobDropdown:e.data})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.state={username:"",url_attachment:"",id_job:"",jobDropdown:[],usernameDropdown:[],errors:[],loading:!1,redirect:!1},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllUser(),this.getAllJob()}},{key:"render",value:function(){var e,t=this.state.usernameDropdown.map((function(e){return r.a.createElement(te,{key:e.id,user:e})})),a=this.state.jobDropdown.map((function(e){return r.a.createElement(me,{key:e.id_job,job:e})})),n=""===this.state.url_attachment?"Choose Image":this.state.url_attachment.name;return!0===this.state.redirect?r.a.createElement(d.a,{to:{pathname:"/business/job-apply",state:{myPropsToggle:this.props.myPropsToggle}}}):r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.z,null,r.a.createElement(h.f,{size:"12"},r.a.createElement(h.c,null,r.a.createElement(h.d,{style:{minHeight:"calc(100vh - 95px)"}},r.a.createElement(h.e,{className:"teal-text"},"Add Job Apply"),r.a.createElement("form",{method:"POST",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group from-md"},r.a.createElement("select",{name:"username",id:"username",className:"form-control",onChange:this.handleChange},r.a.createElement("option",{value:""},"Choose User"),t),r.a.createElement("small",{className:"form-text text-muted"},"Select user who apply this job "),this.state.errors.username?r.a.createElement("span",{className:"error-message"},this.state.errors.username[0]):""),r.a.createElement("div",{className:"form-group from-md"},r.a.createElement("select",{name:"id_job",id:"id_job",className:"form-control",onChange:this.handleChange},r.a.createElement("option",{value:""},"Choose Job"),a),r.a.createElement("small",{className:"form-text text-muted"},"Select job user"),this.state.errors.id_job?r.a.createElement("span",{className:"error-message"},this.state.errors.id_job[0]):""),r.a.createElement("div",{className:"from-group form-md",style:{marginTop:"2em"}},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",(e={type:"file",name:"url_attachment",className:"custom-file-input",id:"inputGroupFile01",ref:"upload",accept:"application/pdf",onChange:this.handleImage},Object(g.a)(e,"className",this.state.errors.url_attachment?"is-invalid":""),Object(g.a)(e,"aria-describedby","inputGroupFileAddon01"),e)),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},n))),r.a.createElement("small",{id:"expiredDateHelpText",className:"form-text text-muted"},"Choose image for job vacancy"),this.state.errors.url_attachment?r.a.createElement("div",{className:"error-message"},this.state.errors.url_attachment[0]):""),r.a.createElement("div",{className:"from-group"},this.state.loading?r.a.createElement(h.b,{type:"button",color:"purple",style:{padding:"0.4rem 2.12rem"}},r.a.createElement(C,null)):r.a.createElement(h.b,{type:"submit",color:"purple"},"Submit"))))))))}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(ue,{myPropsToggle:this.state.myPropsToggle}))}}]),t}(n.Component),de=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(m.a)(t).call(this,e))).getJobApply=Object(_.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),r=new t.Agent({rejectUnauthorized:!1}),e.next=4,T.a.get("https://103.14.21.56:7443/api/v1/jobs/job-apply/"+n.props.id,{httpAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({username:e.data.username,id_job:e.data.id_job,url_attachment:e.data.url_attachment})})).catch((function(e){console.log(e.response)}));case 4:case"end":return e.stop()}}),e)}))),n.getAllJob=Object(_.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),r=new t.Agent({rejectUnauthorized:!1}),e.next=4,n.setState({loadingJob:!0},(function(){T.a.get("https://103.14.21.56:7443/api/v1/jobs/job-vacancy/",{httpAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({loadingJob:!1,jobs:e.data})})).catch((function(e){console.log(e.response)}))}));case 4:case"end":return e.stop()}}),e)}))),n.getAllUser=Object(_.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(13),r=new t.Agent({rejectUnauthorized:!1}),e.next=4,n.setState({loadingUser:!0},(function(){T.a.get("https://103.14.21.56:7443/api/v1/users/user/",{httpAgent:r,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){n.setState({loadingUser:!1,users:e.data})})).catch((function(e){console.log(e.response)}))}));case 4:case"end":return e.stop()}}),e)}))),n.handleChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.fileHandler=function(e){n.setState({url_attachment:e.target.files[0]})},n.handleSubmit=function(){var e=Object(_.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.setState({loading:!0},(function(){var e=new(a(13).Agent)({rejectUnauthorized:!1}),t=new FormData;t.append("username",n.state.username),t.append("id_job",n.state.id_job),t.append("url_attachment",n.state.url_attachment),T()({method:"PUT",url:"https://103.14.21.56:7443/api/v1/jobs/job-apply/"+n.props.id+"/",httpAgent:e,headers:{Authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"multipart/form-data"},data:t}).then((function(e){n.setState({loading:!1,redirect:!0})})).catch((function(e){console.log(e.response),n.setState({loading:!1,errors:e.response.data})}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={username:"",id_job:"",url_attachment:"",redirect:!1,loading:!1,loadingJob:!1,loadingUser:!1,users:[],jobs:[],errors:[]},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllJob(),this.getAllUser(),this.getJobApply()}},{key:"render",value:function(){var e,t=""===this.state.url_attachment?"Choose File":this.state.url_attachment.name,a=this.state.users.map((function(e){return r.a.createElement(te,{key:e.id,user:e})})),n=this.state.jobs.map((function(e){return r.a.createElement(me,{key:e.id_job,job:e})}));return!0===this.state.redirect?r.a.createElement(d.a,{to:{pathname:"/business/job-apply",state:{myPropsToggle:this.props.myPropsToggle}}}):r.a.createElement("div",{className:this.props.myPropsToggle?"main-sidebar-inactive":"main"},r.a.createElement(h.c,null,r.a.createElement(h.d,{className:"col-md-6 col-sm-12",style:{minHeight:"calc(100vh - 91px)"}},r.a.createElement(h.e,{className:"teal-text"},"Edit Job Apply"),r.a.createElement("form",{method:"POST",onSubmit:this.handleSubmit,encType:"multipart/form-data"},r.a.createElement("div",{className:"form-group form-md"},r.a.createElement("select",{name:"username",id:"username",className:this.state.errors.username?"form-control is-invalid":"form-control",onChange:this.handleChange,value:this.state.username},this.state.loadingUser?r.a.createElement("option",null,"Loading..."):a),this.state.errors.username?r.a.createElement("span",{className:"error-message"},this.state.errors.username[0]):""),r.a.createElement("div",{className:"form-group form-md"},r.a.createElement("select",{name:"id_job",id:"id_job",className:this.state.errors.id_job?"form-control is-invalid":"form-control",onChange:this.handleChange,value:this.state.id_job},this.state.loadingUser?r.a.createElement("option",null,"Loading..."):n),this.state.errors.id_job?r.a.createElement("span",{className:"error-message"},this.state.errors.id_job[0]):""),r.a.createElement("div",{className:"form-md"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",(e={type:"file",name:"url_attachment",className:"custom-file-input",id:"inputGroupFile01",ref:"upload",onChange:this.fileHandler},Object(g.a)(e,"className",this.state.errors.url_attachment?"is-invalid":""),Object(g.a)(e,"aria-describedby","inputGroupFileAddon01"),e)),r.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},t))),r.a.createElement("small",{id:"expiredDateHelpText",className:"form-text text-muted"},"Choose pdf file"),r.a.createElement("div",{className:"error-message"},this.state.errors.url_attachment?this.state.errors.url_attachment[0]:"")),this.state.loading?r.a.createElement(h.b,{type:"button",color:"purple",style:{padding:"0.5rem 2.12rem",marginTop:"2em"}},r.a.createElement(C,null)):r.a.createElement(h.b,{type:"submit",color:"purple",style:{marginTop:"2em"}},"Submit")))))}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){a.setState({myPropsToggle:e})},a.state={myPropsToggle:e.location.state.myPropsToggle},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(y,{businessProps:!0,myPropsToggle:this.state.myPropsToggle}),r.a.createElement(E,{myPropsToggle:function(t){return e.handleToggle(t)},show:this.state.myPropsToggle}),r.a.createElement(de,{myPropsToggle:this.state.myPropsToggle,id:this.props.match.params.id}))}}]),t}(n.Component),he=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"purple-gradient",style:{position:"absolute",top:0,bottom:0,left:0,right:0}},r.a.createElement("div",{className:"text-center",style:{width:"100%",height:"100%",margin:"auto",marginTop:"200px"}},r.a.createElement("h1",{style:{fontWeight:"700",fontSize:"77px",fontFamily:"sans-serif",color:"#330d4a"}},"404 :("),r.a.createElement("h1",{style:{color:"#330d4a"}},"OOPS! Page Not Found")))}}]),t}(n.Component),be=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:S}),r.a.createElement(d.b,{exact:!0,path:"/home",component:D}),r.a.createElement(d.b,{path:"/home/add-user/",component:I}),r.a.createElement(d.b,{path:"/home/edit-user/:id",component:F}),r.a.createElement(d.b,{exact:!0,path:"/promotion",component:J}),r.a.createElement(d.b,{path:"/promotion/add-promotion/",component:q}),r.a.createElement(d.b,{path:"/promotion/edit-promotion/:id",component:M}),r.a.createElement(d.b,{exact:!0,path:"/business/career-category",component:Y}),r.a.createElement(d.b,{exact:!0,path:"/business/career-category/add",component:K}),r.a.createElement(d.b,{exact:!0,path:"/business/career-category/edit/:id",component:X}),r.a.createElement(d.b,{exact:!0,path:"/business/job-vacancy",component:ee}),r.a.createElement(d.b,{exact:!0,path:"/business/job-vacancy/add",component:re}),r.a.createElement(d.b,{exact:!0,path:"/business/job-vacancy/edit/:id",component:oe}),r.a.createElement(d.b,{exact:!0,path:"/business/job-apply",component:ce}),r.a.createElement(d.b,{exact:!0,path:"/business/job-apply/add",component:pe}),r.a.createElement(d.b,{exact:!0,path:"/business/job-apply/edit/:id",component:ge}),r.a.createElement(d.b,{exact:!0,path:"/login",component:S}),r.a.createElement(d.b,{component:he})))}}]),t}(n.Component);a(119),a(120),a(121),a(122);o.a.render(r.a.createElement(be,null),document.getElementById("root"))},67:function(e,t,a){e.exports=a(123)},72:function(e,t,a){},78:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.9bc1cceb.chunk.js.map